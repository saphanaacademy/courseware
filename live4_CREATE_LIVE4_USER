-- show studio
-- create connection to system in studio (SYSTEM/Initial1)
-- demo backup, catalog, content, provisioning, security
-- demo Admin Console, talk about Script Server, DP server, SDS server, etc

DROP SCHEMA LIVE4 CASCADE;
CREATE USER LIVE4 PASSWORD Password1;

-- ABILITY TO CREATE OBJECT IN THE ROOT PACKAGE
INSERT INTO _SYS_REPO.PACKAGE_CATALOG(PACKAGE_ID, SRC_SYSTEM, SRC_TENANT, DESCRIPTION, RESPONSIBLE, IS_STRUCTURAL) VALUES ('LIVE4','HDB','','LIVE4','LIVE4',0);
GRANT EXECUTE ON REPOSITORY_REST TO LIVE4;
GRANT EXECUTE ON GRANT_ACTIVATED_ROLE TO LIVE4;
GRANT EXECUTE ON REVOKE_ACTIVATED_ROLE TO LIVE4;
GRANT REPO.READ, REPO.EDIT_NATIVE_OBJECTS, REPO.ACTIVATE_NATIVE_OBJECTS, REPO.MAINTAIN_NATIVE_PACKAGES ON "LIVE4" TO LIVE4;
GRANT REPO.EDIT_IMPORTED_OBJECTS, REPO.ACTIVATE_IMPORTED_OBJECTS, REPO.MAINTAIN_IMPORTED_PACKAGES ON "LIVE4" TO LIVE4;

-- WEB DEVELOPMENT WORKBENCH
CALL GRANT_ACTIVATED_ROLE('sap.hana.xs.ide.roles::Developer','LIVE4');

-- GIVE RIGHTS FOR SDI WORK
GRANT CREATE REMOTE SOURCE TO LIVE4;
GRANT ADAPTER ADMIN TO LIVE4;
GRANT AGENT ADMIN TO LIVE4;

-- GIVE RIGHTS FOR SDQ WORK
GRANT EXECUTE ON "_SYS_REPO"."TEXT_ACCESSOR" TO LIVE4;
GRANT EXECUTE ON "_SYS_REPO"."MULTI_TEXT_ACCESSOR" TO LIVE4;

-- ACCESS TO SOME DATA
GRANT SELECT ON SCHEMA LIVE4_TEST to LIVE4;
GRANT SELECT, CREATE ANY ON SCHEMA SAP_SPATIAL_POSTAL TO LIVE4;

-- use WbDW
-- http://hana:8000/sap/hana/ide/
-- login as live4 user
-- demo security, catalog, editor

-------------------
-- AS LIVE4 USER --
-------------------
GRANT SELECT, INSERT, UPDATE, DELETE, EXECUTE ON SCHEMA LIVE4 to _SYS_REPO WITH GRANT OPTION;

